(this["webpackJsonpentry-app"]=this["webpackJsonpentry-app"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);n(43);var r=n(1),a=n.n(r),c=n(25),s=n.n(c),o=(n(48),n(49),n(12)),u=n(10),i=n(2),l=n.n(i),j=n(3),b=n(5),p="https://entry-book.herokuapp.com",d=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=d,f=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/"+t,{headers:{"auth-token":n}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=f,m=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/"+t,{method:"PATCH",headers:{"Content-Type":"application/json","auth-token":n},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),x=m,v=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=v,y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/books",{headers:{"auth-token":t}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=y,N=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/messages",{headers:{"auth-token":t}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=N,S=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/message/"+n,{method:"DELETE",headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=S,C=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/user/message/"+n,{method:"POST",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=C,T=n(0),F=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],p=s[1],d=Object(r.useState)(""),h=Object(b.a)(d,2),f=(h[0],h[1],Object(r.useState)("")),O=Object(b.a)(f,2),m=(O[0],O[1],Object(u.f)()),x=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n||i){e.next=4;break}return alert(" Invalid Request "),e.abrupt("return");case 4:return r={email:n,password:i},e.next=7,k(r);case 7:c=e.sent,console.log(c),document.cookie="token=".concat(c.result[0],";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-id=".concat(c.result[1]._id,";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-name=".concat(c.result[1].firstName+" "+c.result[1].lastName,";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-email=".concat(c.result[1].email,";max-age=86400,domain=localhost:3000"),s=c.result[0],m.push({pathname:"/user",state:{token:s}}),a(""),p("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"signin-form-wrapper",children:Object(T.jsxs)("form",{onSubmit:x,className:"form-signin pt-3 pb-3",children:[Object(T.jsx)("h1",{className:"page-title mb-3 font-weight-normal",children:" Sign In "}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"email",children:" Email "}),Object(T.jsx)("input",{type:"email",id:"email",required:!0,autoFocus:!0,className:"form-control",placeholder:"Enter Email",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(T.jsx)("br",{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"password",children:" Password "}),Object(T.jsx)("input",{type:"password",id:"password",required:!0,autoFocus:!0,className:"form-control",placeholder:"enter password",value:i,onChange:function(e){return p(e.target.value)}})]}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Log In"}),Object(T.jsx)("br",{}),Object(T.jsxs)("p",{className:"align-right",children:[" Not registered? ",Object(T.jsx)(o.b,{to:"/register",children:" Register here "})," "]})]})})},I=n(16),P=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],p=s[1],d=Object(r.useState)(""),f=Object(b.a)(d,2),O=f[0],m=f[1],x=Object(r.useState)(""),v=Object(b.a)(x,2),k=v[0],y=v[1],g=Object(r.useState)(""),N=Object(b.a)(g,2),w=N[0],S=N[1],D=Object(u.f)(),C=function(){var e=Object(j.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n||i||O||k||w){e.next=4;break}return alert(" Please fill in the required fields. "),e.abrupt("return");case 4:return r={firstName:n,lastName:i,mobileNumber:O,email:k,password:w},e.next=7,h(r);case 7:e.sent.json().then((function(e){D.push("/")})),a(""),p(""),m(""),y(""),S("");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"register-form-wrapper",children:Object(T.jsxs)("form",{onSubmit:C,className:"form-register",children:[Object(T.jsx)("h1",{className:"page-title mb-3 font-weight-normal",children:" Register "}),Object(T.jsxs)(I.a,{children:[Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"firstName",children:" First Name "}),Object(T.jsx)("input",{type:"text",id:"firstName",className:"form-control",required:!0,autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)},placeholder:"Enter your first Name"})]}),Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"lastName",children:" Last Name "}),Object(T.jsx)("input",{type:"text",id:"lasttName",className:"form-control",required:!0,autoFocus:!0,value:i,onChange:function(e){return p(e.target.value)},placeholder:"Enter your last name"})]}),Object(T.jsxs)("div",{className:"col-sm-12",children:[Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"mobileNumber",children:" Mobile Number "}),Object(T.jsx)("input",{type:"text",id:"mobileNumber",className:"form-control",required:!0,autoFocus:!0,value:O,onChange:function(e){return m(e.target.value)},placeholder:"Enter your mobile number"})]}),Object(T.jsxs)("div",{className:"col-sm-12",children:[Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"email",children:" Email "}),Object(T.jsx)("input",{type:"email",id:"email",className:"form-control",required:!0,autoFocus:!0,value:k,onChange:function(e){return y(e.target.value)},placeholder:"Enter your email address"})]}),Object(T.jsxs)("div",{className:"col-sm-12",children:[Object(T.jsx)("br",{}),Object(T.jsx)("label",{htmlFor:"password",children:" Password "}),Object(T.jsx)("input",{type:"password",id:"password",className:"form-control",required:!0,autoFocus:!0,value:w,onChange:function(e){return S(e.target.value)},placeholder:"Enter your password"})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"register"}),Object(T.jsx)("br",{}),Object(T.jsxs)("p",{children:[" Already refistered? ",Object(T.jsx)(o.b,{to:"/",children:" Login here. "})," "]})]})})},q=n(32),A=n(17),B=n(24),U=n(27),L=n(39),_=n(40),J=function(e){var t=e.user;return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(U.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(T.jsxs)(A.a,{children:[Object(T.jsxs)(U.a.Brand,{href:"#home",children:[" ",t," "]}),Object(T.jsx)(U.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(T.jsxs)(U.a.Collapse,{id:"responsive-navbar-nav",children:[Object(T.jsx)(L.a,{className:"mr-auto"}),Object(T.jsxs)(L.a,{children:[Object(T.jsxs)(o.b,{className:"nav-link",to:"/profile",children:[" ",Object(T.jsx)(_.b,{}),"\xa0Profile "]}),Object(T.jsxs)(o.b,{className:"nav-link",to:"/messages",children:[" ",Object(T.jsx)(_.a,{}),"\xa0Messages "]})]})]})]})})})},M=function(e){var t=e.token,n=e.addBook,a=e.user,c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],u=s[1],i=function(){var e=Object(j.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),o){e.next=4;break}return alert("Please give the book a title"),e.abrupt("return");case 4:n(t,{creatorID:a,title:o,users:a}),u("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("form",{className:"addBook-form",onSubmit:i,children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"text",id:"bookTitle",required:!0,autoFocus:!0,className:"form-control",placeholder:"Enter Book Title",value:o,onChange:function(e){return u(e.target.value)}}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Add Book"})]})},R=n(11),H=function(e){var t=e.book,n=e.onDelete,r=e.token,a=new Date(t.creationDate);return Object(T.jsx)("div",{className:"col-sm-4 book-wrapper",children:Object(T.jsx)(R.a,{className:"book-card",children:Object(T.jsxs)(R.a.Body,{children:[Object(T.jsx)(R.a.Title,{className:"book-title",children:t.title}),Object(T.jsxs)(R.a.Subtitle,{className:"book-creator",children:["  Created At : ",a.toDateString()," "]}),Object(T.jsx)(R.a.Text,{className:"book-info",children:Object(T.jsxs)(I.a,{children:[Object(T.jsxs)("div",{className:"col-lg-4",children:[Object(T.jsx)("p",{children:" Received "}),t.totalReceived]}),Object(T.jsxs)("div",{className:"col-lg-4",children:[Object(T.jsx)("p",{children:"  Dept "}),t.totalDept]}),Object(T.jsxs)("div",{className:"col-lg-4",children:[Object(T.jsx)("p",{children:"  Paid "}),t.totalPaid]})]})}),Object(T.jsx)(R.a.Link,{className:"btn btn-primary",onClick:function(){return n(r,t._id)},children:" Delete "}),Object(T.jsx)(o.b,{to:"/book/".concat(t._id),className:"btn btn-success card-link",children:" More info "})]})})})},G=function(e){var t=e.books,n=e.onDelete,r=e.token;return Object(T.jsx)(T.Fragment,{children:0===t.length?"No Books Found":Object(T.jsx)(I.a,{className:"book-list",children:t.map((function(e){return Object(T.jsx)(H,{book:e,onDelete:n,token:r},e._id)}))})})},V="https://entry-book.herokuapp.com",z=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+"/book/"+n,{headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=z,Q=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+"/book",{method:"POST",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=Q,X=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+"/book/"+n,{method:"DELETE",headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=X;var Z=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},$=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),o=s[0],i=s[1],p=Object(u.f)(),d=Z("token"),h=Z("entry-app-user-id"),f=Z("entry-app-user-name");void 0===d&&p.push("/"),Object(r.useEffect)((function(){var e=!0;return function(){var t=Object(j.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return t.prev=1,t.next=4,g(d);case 4:n=t.sent,i(n.result),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),p.push("/500");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[o,d,p]);var O=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,n);case 2:r=e.sent,i([].concat(Object(q.a)(o),[r.result]));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n);case 2:i(o.filter((function(e){return e._id!==n})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{user:f}),Object(T.jsxs)(A.a,{children:[Object(T.jsx)("h1",{className:"page-title font-weight-normal mb-3",children:" Books "}),Object(T.jsx)(B.a,{className:"btn btn-primary",onClick:function(){return a(!n)},children:"Add new Book"}),n&&Object(T.jsx)(M,{token:d,addBook:O,user:h}),Object(T.jsx)(G,{books:o,onDelete:m,token:d})]})]})},ee=function(e){var t=e.onUpdate,n=e.bookID,a=e.entry,c=e.token,s=Object(r.useState)(0),o=Object(b.a)(s,2),u=o[0],i=o[1];return Object(T.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),u<=0)alert("Please enter value.");else{var r=a;r.amount=u;var s=t(n,a._id,c,r);console.log(s),i(0)}},className:"form-update-entry",children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"number",className:"form-control",id:"updateEntryVal",value:u,onChange:function(e){return i(e.target.value)},placeholder:"Enter Updated value"}),Object(T.jsx)("input",{type:"submit",value:"Update Entry",className:"btn btn-primary"})]})},te=function(e){var t=e.entry,n=e.token,a=e.bookID,c=e.onDelete,s=e.onUpdate,o=Object(r.useState)(!1),u=Object(b.a)(o,2),i=u[0],l=u[1];return Object(T.jsx)("div",{className:"col-md-6",children:Object(T.jsx)(R.a,{className:"entry-card",children:Object(T.jsxs)(R.a.Body,{children:[Object(T.jsx)(R.a.Title,{className:"entry-title",children:t.entryTitle}),Object(T.jsxs)(R.a.Subtitle,{className:"entry-creator",children:[" ",t.entryCreatorID," "]}),Object(T.jsxs)(R.a.Text,{className:"entry-info",children:[Object(T.jsxs)("p",{children:[" Amount : ",t.amount," "]}),Object(T.jsxs)("p",{children:[" Type : ",t.type," "]}),Object(T.jsxs)("p",{children:[" Recipient : ",t.recipient," "]}),Object(T.jsxs)("p",{children:[" Details : ",t.details," "]})]}),"dept"===t.type&&Object(T.jsx)(R.a.Link,{className:"btn btn-primary",onClick:function(e){e.preventDefault(),l(!i)},children:" Update "}),Object(T.jsx)(R.a.Link,{onClick:function(){return c(a,t._id,n)},children:" Delete "}),i&&Object(T.jsx)(ee,{onUpdate:s,bookID:a,entry:t,token:n})]})})})},ne=function(e){var t=e.entries,n=e.token,r=e.bookID,a=e.onDelete,c=e.onUpdate;return Object(T.jsx)(I.a,{className:"entry-list",children:0===t.length?"No entries found":t.map((function(e){return Object(T.jsx)(te,{token:n,bookID:r,entry:e,onDelete:a,onUpdate:c},e._id)}))})},re=function(e){var t=e.onAdd,n=e.bookID,a=e.token,c=e.userID,s=Object(r.useState)(""),o=Object(b.a)(s,2),u=o[0],i=o[1],l=Object(r.useState)("paid"),j=Object(b.a)(l,2),p=j[0],d=j[1],h=Object(r.useState)(""),f=Object(b.a)(h,2),O=f[0],m=f[1],x=Object(r.useState)(0),v=Object(b.a)(x,2),k=v[0],y=v[1];return Object(T.jsxs)("form",{className:"form-register",onSubmit:function(e){(e.preventDefault(),u||p||O||0!==k)?(t(n,a,{entryTitle:u,amount:k,type:p,recipient:O,entryCreatorID:c,bookID:n}),i(""),d("paid"),m(""),y(0)):alert("Fill all the necessary fields.")},children:[Object(T.jsxs)(I.a,{children:[Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"text",id:"entryTitle",className:"form-control",value:u,onChange:function(e){return i(e.target.value)},placeholder:"Enter Title",required:!0})]}),Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"text",id:"entryType",className:"form-control",value:p,onChange:function(e){return d(e.target.value)},placeholder:"Enter type",required:!0})]}),Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"text",id:"recipient",className:"form-control",value:O,onChange:function(e){return m(e.target.value)},placeholder:"Enter recipient",required:!0})]}),Object(T.jsxs)("div",{className:"col-sm-6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"number",id:"amount",className:"form-control",value:k,onChange:function(e){return y(e.target.value)},placeholder:"Enter amount",required:!0})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Add Entry"})]})},ae="https://entry-book.herokuapp.com",ce=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae+"/entry/"+t,{method:"POST",headers:{"Content-Type":"application/json","auth-token":n},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),se=ce,oe=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae+"/entry/"+t+"/"+n,{method:"PATCH",headers:{"Content-Type":"application/json","auth-token":r},body:JSON.stringify(a)});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ue=oe,ie=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae+"/entry/"+t+"/"+n,{method:"DELETE",headers:{"auth-token":r}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),le=ie,je=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),o=s[0],i=s[1],p=Object(r.useState)(""),d=Object(b.a)(p,2),h=d[0],f=d[1],O=Object(u.f)(),m=Object(u.g)().bookID,x=Z("token"),v=Z("entry-app-user-id"),k=Z("entry-app-user-name");void 0===x&&O.push("/"),Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(x,m);case 3:null!==(t=e.sent).result?(f(t.result.title),i(t.result.entries)):O.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),O.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[o,x,m,O]);var y=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t,n,r);case 2:a=e.sent,i([].concat(Object(q.a)(o),[a.result.entries]));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t,n,r);case 2:i(o.filter((function(e){return e._id!==n})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t,n,r,a);case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{user:k}),Object(T.jsxs)(A.a,{children:[Object(T.jsxs)("h1",{className:"page-title font-weight-normal pb-3",children:[" ",h," "]}),Object(T.jsx)("h3",{className:"page-title font-weight-normal pb-3",children:" Entries "}),Object(T.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(!n)},children:"Add New Entry"}),n&&Object(T.jsx)(re,{onAdd:y,bookID:m,token:x,userID:v}),Object(T.jsx)(ne,{entries:o,token:x,bookID:m,onDelete:g,onUpdate:N})]})]})},be=function(e){var t=e.onUpdate,n=e.userID,a=e.token,c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],u=s[1];return Object(T.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),o)?(t(n,a,{password:o}),console.log(o),u("")):alert("Please enter password.")},children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"password",className:"form-control",value:o,onChange:function(e){return u(e.target.value)},placeholder:"Enter New Password"}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Update Password"})]})},pe=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],i=s[1],p=Object(r.useState)(""),d=Object(b.a)(p,2),h=d[0],f=d[1],m=Z("token"),v=Z("entry-app-user-id"),k=Z("entry-app-user-name"),y=Object(u.f)();Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(v,m);case 3:null!==(t=e.sent).result?(i(t.result.email),f(t.result.mobileNumber)):y.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[v,m,y]);var g=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{user:k}),Object(T.jsxs)(A.a,{children:[Object(T.jsxs)("h1",{children:[" ",k," "]}),Object(T.jsxs)("h3",{children:[" ",o," "]}),Object(T.jsxs)("h3",{children:[" ",h," "]}),Object(T.jsx)(B.a,{varient:"primary",onClick:function(){return a(!n)},children:"Update Password"}),n&&Object(T.jsx)(be,{onUpdate:g,userID:v,token:m})]})]})},de=function(e){var t=e.message,n=e.token,r=e.onDelete;return Object(T.jsx)("div",{className:"col-md-6",children:Object(T.jsx)(R.a,{children:Object(T.jsxs)(R.a.Body,{children:[Object(T.jsx)(R.a.Title,{className:"message-text",children:t.meg}),Object(T.jsx)(R.a.Subtitle,{className:"message-sender",children:t.senderFirstName+" "+t.senderLastName}),Object(T.jsx)(R.a.Link,{onClick:function(){return r(n,t._id)},children:" Delete "})]})})})},he=function(e){var t=e.messages,n=e.token,r=e.onDelete;return Object(T.jsx)(I.a,{children:0===t.length?"No messages found":t.map((function(e){return Object(T.jsx)(de,{message:e,token:n,onDelete:r},e._id)}))})},fe=function(e){var t=e.onAdd,n=e.token,a=Object(r.useState)(""),c=Object(b.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(""),i=Object(b.a)(u,2),l=i[0],j=i[1];return Object(T.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),s&&l)?(t(n,s,{msg:l}),console.log("id ",s),console.log("message ",l),o(""),j("")):alert("Please fill in the required fields")},children:[Object(T.jsx)("br",{}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"recipient-id",value:s,onChange:function(e){return o(e.target.value)},placeholder:" Please enter the id."}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"recipient-id",value:l,onChange:function(e){return j(e.target.value)},placeholder:" Please enter the message."}),Object(T.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Send Message"})]})},Oe=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),o=s[0],i=s[1],p=Z("token"),d=Z("entry-app-user-name"),h=Object(u.f)();Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(p);case 3:null!==(t=e.sent).result?i(t.result):h.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[p,h]);var f=function(){var e=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(J,{user:d}),Object(T.jsxs)(A.a,{children:[Object(T.jsx)("h1",{children:" Messages "}),Object(T.jsx)(he,{messages:o,onDelete:O,token:p}),Object(T.jsx)(B.a,{varient:"primary",onClick:function(){return a(!n)},children:" Send Message "}),n&&Object(T.jsx)(fe,{onAdd:f,token:p})]})]})},me=function(){return Object(T.jsxs)(A.a,{children:[Object(T.jsx)("h1",{children:" Error : 500 "}),Object(T.jsx)("p",{children:" Error while connecting to the server "}),Object(T.jsx)(o.b,{to:"/user",children:" Go back "})]})};var xe=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(o.a,{children:Object(T.jsxs)(u.c,{children:[Object(T.jsx)(u.a,{exact:!0,path:"/",children:Object(T.jsx)(F,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/register",children:Object(T.jsx)(P,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/user",children:Object(T.jsx)($,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/500",children:Object(T.jsx)(me,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/book/:bookID",children:Object(T.jsx)(je,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/profile",children:Object(T.jsx)(pe,{})}),Object(T.jsx)(u.a,{exact:!0,path:"/messages",children:Object(T.jsx)(Oe,{})})]})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[60,1,2]]]);
//# sourceMappingURL=main.516f5757.chunk.js.map